<!DOCTYPE html>
<html lang="hr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pi Dan i Matematički Kviz</title>
</head>
<body>
    <h1>Pi Dan i Matematički Kviz</h1>
    <p>Prijavi se i testiraj svoje matematičke vještine!</p>

    <div>
        <form id="quizForm">
            <label>Unesi svoj e-mail:</label>
            <input type="email" name="email" required><br><br>

            <p>Kolika je vrijednost izraza 2π rad u stepenima?</p>
            <input type="radio" name="q1" value="a"> a) 90°<br>
            <input type="radio" name="q1" value="b"> b) 180°<br>
            <input type="radio" name="q1" value="c"> c) 360°<br>

            <br>
            <button type="button" onclick="submitQuiz()">Pošalji kviz</button>
        </form>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "TVOJ_API_KEY",
            authDomain: "tvoj-projekat.firebaseapp.com",
            databaseURL: "https://tvoj-projekat-default-rtdb.firebaseio.com",
            projectId: "tvoj-projekat",
            storageBucket: "tvoj-projekat.appspot.com",
            messagingSenderId: "TVOJ_ID",
            appId: "TVOJ_APP_ID"
        };

        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        function submitQuiz() {
            let correctAnswers = {q1: "c"};
            let score = 0;
            let form = document.getElementById("quizForm");
            let email = form.elements["email"].value;

            if (!email) {
                alert("Molimo unesite email prije slanja kviza.");
                return;
            }

            let selected = form.elements["q1"].value;
            if (selected === correctAnswers["q1"]) {
                score++;
            }

            database.ref("kviz/" + email.replace(".", "_")).set({
                email: email,
                score: score
            }).then(() => {
                alert("Vaš rezultat: " + score + "/1");
            }).catch(error => {
                console.error("Greška pri spremanju podataka:", error);
            });
        }
    </script>
</body>
</html>
